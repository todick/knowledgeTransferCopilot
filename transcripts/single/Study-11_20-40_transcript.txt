just use that. Okay, it's lowercase. I should have thought about that. Oh, it's there. Yeah, we're here. Maybe now if we do session dot... No, no, no, wait. What if we import... Wait, what's happening? It's not working. No, it's because we don't use it. Okay, then... I mean, do we need... I mean, we can just import the whole SQLAlchemy for now, right? Yeah, I just wanted to... Yeah, but I think... How do we assign it to... SQLAlchemy dot... Session, I guess, or... How do we put it? Alias... No, this is too big. Can we check maybe an example they gave? Where, where, where? The first one, yeah. SessionMaker by... Session, session, wait. What is this? ORM session, this is what we need. Yeah, this is what we're working with. Look, session members. Yeah, this makes... Yeah, I don't know what we were looking at before. I also not sure what... Parameters, autoflush, bind, binds, an optional engine connection, class, enable, future, info, transaction mode. So, I suppose we should actually be able to use... Adding new or existing items, so we need this one. Wait, but this is called from import session from SQLAlchemy dot ORM. Is it? I think so. Look, look, look. Here. Class. That is class. Wait, maybe my syntax is wrong. Import SQLAlchemy dot session. Isn't... I thought that we already used the whole SQLAlchemy? I mean, I don't know. Now we're just importing this ORM. Okay. Wait, we need add, but we need first to check if it exists. Yes. Query, query, query, query, probably. Yeah, query. We need query. Where is the query? Where are you? Query, here. Entities, return a query object corresponding to this session, not a query object. Okay, but I don't know how to connect the session with the SQL. I mean... What do you mean? From this parameter. I mean... Because we don't have any assumption for that parameter, right? We assume that this is a session object, right? So we can just directly use it? That's... I have almost zero idea how this thing works in Python. Yeah, because Python is not typed, remember. So that's the thing the compiler never knows if I'm not mistaken. Then I think we need to somehow... Return a new query object responding to the session, okay. I mean, I can try to find... So, session, query. Python, how to use imported library. Query. Wait, no, this is not what we want. Import mat. Wait, apparently we need to do a lot of things with session objects, so it's good that we spend time learning about sessions. We could look at the other methods. All of them have sessions, so let's learn about sessions. And then... Session, session API. I want the session documentation. I think... Session basics, look. Session basics. What does session do? In this one, they already create the engine, right? We need to somehow... We first create a local, either engine or session, and assign the one they gave. Then we can work on it, I think. What do you mean, what do you mean, say again? So we make a local variable of some engine... My syntax was wrong, yeah. This is what I was trying to do. Import session, so what happens if... If we do... Query commit info. Wait, can we run this on main? And then I just want to log something. I want to log... So I think... Can we actually make the... Can we assign... This is a class name, right? Yeah, that's the session. Oh my god. Where is the equal? Oh, this is English layout. Oh my god. What layout do you use? No, I mean, because it's German layout. I don't know. What are you trying to... No, because Python, no, Python, you don't use... This is Java, or Kotlin, or whatever. Yeah, that's... No, no, Python is crazy. Python is... Python is risky, but that's why it's good. Yeah, you just... You're assigning that the compiler tells you, okay, this is of type session. Okay, but now we work, but we don't know what functionality we can use. We have query. Okay. And we have only query. Crazy. Yeah, look, I gave it this, and this should return a query object, which is what I did here, basically. I just did session. Ah, okay, then we don't need... Yeah, but now let's inspect this query object. No, this is not good. Hash. Hash. Look, we need the hash. Maybe. Somewhere. I don't know. That was already done. Oh, okay, that's actually all from the session class. No, no, no. Wait, opening... Basic of using a session. Opening and closing. Okay, we already have a session. That's good. Commit. That's... We will do that later. Session maker. No. Querying. Here. The primary means of querying is the use of select object, which returns session.execute, session.scale. Can we use this select? But this select says constructs to create a select object. I mean, right now what we want to check is the user exists, right? No, I mean the user exists in the test. No, here. Add a new user to the database if one with a given name does not exist already. Yeah, I mean, so I thought... So the user is the name of the database. We select the user and then we filter inside of them until we found the name that is given by this one. Adding new or existing items. Session.add. No, but we need to check it first, right? Adding new or existing item. Yeah, but add should return... What if already exists? Maybe add returns something? I don't think so. It will be duplicated. No? Returns none. No. So, okay. Adding. Checking. There should be something for querying. Flashing. Get primary key. No, no. We just need to query. Yeah, we query and then use... We filter first and then find if we actually... It's not empty? With session statements. Yeah, that one I don't know. How do they get to that one? Select. Wait, where is the select? Select is being called on user. And user, what is user? No, user is inside the models, I guess. Wait, yeah. I think it's the select. Yeah, but with session, somehow they have the engine, right? Do we even have the engine? What do you mean we don't have the engine? I don't know how to create this one. Can we do that here? I think that's just for creating the session object, right? Then they do statement is equal to select, filter by name. But the select is from... Ah, a select method is from SQLAlchemy. And they do it on user, filter by name. Query for individual columns. That's a nice way. So we just copy and paste and then we try it out. No, we need to check here. We import first, I guess. Because the thing is I don't understand what is happening here. Name should be equal to name. Yes. Yes. Why is... No, I think red is just the name. It's just equal, I guess. No, this is not an error. I think it's the ID. Okay. I think. That's what I want to believe. Statement, query for user objects. Wait, but this user, we don't have this thing. No, no, no. So it should be inside the sessions, I guess. That's why they have this with session as a session, no? Select a list of instances. No, but how do we replicate the with session engine? I think that's not necessary because... I think it too because I think the user and all the stuff is inside the session, no? Or no? The session has users. Am I just plain dumb in this case? Wait. Because, look, they're adding to the session directly a user, right? But the thing I don't understand is... How to access the database and filter from... No, how does the select method, what does it do? I want to read what does the select method do. It's just select the list of instances, I think, right? Ah, it's an SQL state. It's just an SQL from BD, I guess. Wait. Return and intersect, no. Return and intersect all. Entities to select from. Table. No, this is not good. Yes, I agree, but... Wait, because they have columns. Now we're talking about SQL tables. At what point did we start to talk about SQL tables? Maybe instead of user we have model.user or something? We have, I think... We have the user here, right? But this is the class. Where do we even put all the information? Column, look, they are now using column. Okay, because ID... Here we're kind of the blueprint for the SQL base, right? It's a primary key. It's an integer, the type of the column that you need to have. Okay, so ID is a column, name is a column, password is a column. Entries is a relationship. Yes. Ah, okay. Okay. And this is the entry object. Okay, so we have a user that has a name. So... We check first in the user, right? Whether we have... Yeah, we need to query for user objects. Where is this user actually come from? Did they actually use the right user? That's my question, because... But it doesn't throw an error, so I thought it's already... I think this is already an error. Can you go to the user, just hover it? Yes, it's already using the actual user that we want. But... Query for user object. So this is going to give us all users that have a certain name. Yeah, and then... I guess if the... Statement, what is the... Select object. So I guess, I thought that maybe, without this, we can just check. If it's not empty, then we create, we session.add. Otherwise, we... Ah, look, this is the select object. That statement is what we return here. This is an object with all of these properties, which we can add columns. Why would you want... Well, wait, that doesn't make sense. Why would you like to add columns to... No, it's just add another... What is it? Field, like we want to add information to the users. But that's not possible, because in SQL you will need to modify the whole table. Yeah, but that's... I think that's what they do. But here you only have filter by name. Yeah, but then we will either have something or nothing, right? But you have entries, right? Right. Column. Add columns at... What do you... filter. Fetch. No, filter by... Okay, they are already in filter by. What does filter by return? Let's go to filter by. What does it return? Self. It's self. Okay, it doesn't modify the... It doesn't modify the... Apply the given filtering criteria as word clauses to select. Okay, so now we have a list of users. That have this name, right? Yeah. So now my question is, what is this statement? Ah, here we see. Select tuple of users. Still a select. Yeah, it's still a select. Okay, so now we need to see if this is empty. Yes. Do they have something to check if it's empty? Outer join, you were... Get... Exists. Exists. Do you think it should be exists? Yeah, we can try. Or... So, what do you mean exists? So after, so select user exists name or... Statement, yeah. I need to check if statement is empty. Because if statement is empty, then we just add it and boom. But let's... Do you see anything that says empty? They should have something that says empty or... I mean, how... Offset, limit, lateral, label, subquery, suffix, select from, select subgroup, union all. So I think this is a lot of things from database. Group by... Yeah, this is all how to do... This is what we're doing is a SQL query, basically. Yeah, but I don't know. I forgot how to check if it's empty or not. Can we just check the statement? I don't think so. I think I've never checked that on SQL. How to check if it's... No, or yeah, did I? Can we even check that? So, if we use... Exists probably returns... No, exists... Wait, I forgot what exists did. Returns and instruments. No, this is not it. Alias. Do we have something to check the number of rows that we got here? Lateral options, order by autojoin. I think this... No, not this thing. Exists. A scalar. What is a scalar? I don't think we need a scalar. Yeah, it's not even functional anymore. I think we just leave it. Wait, how do we check if it's empty? I think we can do it. We just check whether the statement is empty or not, I think, no? Yeah, but how... I guess... Wait, what does that exist? Maybe fetch? I don't think fetch will do anything in this case. Filter. Return a new selectable criterion. This is a numeric value. Yeah, but we don't need either of those, you know? Object.Session.Scalars. List of...